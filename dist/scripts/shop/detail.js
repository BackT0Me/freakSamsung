"use strict";require(["../../static/conf/config.js"],function(){require(["jquery","common","header"],function($){function template(id,data){var template=document.getElementById(id).innerHTML;template="print(`"+template+"`)",template=template.replace(/<%=(.+?)%>/g,"`) \n print($1) \n print(`"),template=template.replace(/<%(.+?)%>/g,"`) \n $1 \n print(`");var codestr='\n                (function(data){\n                    let htmlstr = "";\n                    function print(val){\n                        htmlstr += val;\n                    }\n                    '.concat(template,"\n                    return htmlstr;\n                })\n            ");return eval(codestr)(data)}$.ajax({dataType:"json",url:"http://localhost:8000/erji",success:function(i){var e=template("tuijian",i.returnData.OutMasterDatas);$(".menu_content").append(e)}});var $smallImg=$("#smallImg"),$bigImg=$("#bigImg"),$smallCursor=$("#smallCursor"),$bigCursor=$(".big_pic");function move(i){var e=$bigImg.width()/$smallImg.width(),t=i.clientX-$smallImg.offset().left,s=i.clientY-$smallImg.offset().top,l=Math.min($smallImg.width()-$smallCursor.width(),Math.max(0,t-$smallCursor.width()/2)),o=Math.min($smallImg.height()-$smallCursor.height(),Math.max(0,s-$smallCursor.height()/2));$smallCursor.css({left:l,top:o}),$bigImg.css({left:-e*l,top:-e*o})}$(".middle_pic").on("mouseenter",function(i){$smallCursor.show(),$bigCursor.show(),$bigCursor.animate({height:"320px",width:"320px",left:"917px",top:"150px"},500,function(){$smallCursor.width($smallImg.width()/$bigImg.width()*$bigCursor.width()),$smallCursor.height($smallImg.width()/$bigImg.width()*$bigCursor.width())}),$(".middle_pic").on("mousemove",move)}),$(".middle_pic").on("mouseleave",function(){$(".middle_pic").off("mousemove",move),$smallCursor.hide(),$bigCursor.hide(),$bigCursor.css({height:"1px",width:"1px",left:"625px",top:"313px"})});var color="blue";function debounce(i,e){var t=null;return function(){clearTimeout(t),t=setTimeout(function(){i()},e)}}$(".small_pic_one").on("click",function(){$(this).addClass("small_pic_chosen"),"blue"==color&&($(".big_pic img").attr("src","../../../imges/15525720912328593_900X900.jpg"),$(".middle_pic img").attr("src","../../../imges/15525720912328593_570X570.jpg")),"black"==color&&($(".middle_pic img").attr("src","../../../imges/15525734991932877_570X570.jpg"),$(".middle_pic img").attr("src","../../../imges/15525734991932877_900X900.jpg")),$(this).siblings().removeClass("small_pic_chosen")}),$(".small_pic_sec").on("click",function(){$(this).addClass("small_pic_chosen"),"blue"==color&&($(".big_pic img").attr("src","../../../imges/15525732850006038_900X900.jpg"),$(".middle_pic img").attr("src","../../../imges/15525732850006038_570X570.jpg")),"black"==color&&($(".big_pic img").attr("src","../../../imges/15525735097344210_900X900.jpg"),$(".middle_pic img").attr("src","../../../imges/15525735097344210_570X570.jpg")),$(this).siblings().removeClass("small_pic_chosen")}),$(".good_blue").click(function(){$(this).addClass("color_chosen"),$(this).siblings().removeClass("color_chosen"),color="blue",$(".small_pic_one").css({background:'url("../../imges/15525720912328593_100X100.jpg")',backgroundSize:"100%"}),$(".middle_pic img").attr("src","../../../imges/15525720912328593_570X570.jpg"),$(".small_pic_sec").css({background:'uel("../../imges/15525732850006038_100X100.jpg")',backgroundSize:"100%"})}),$(".good_black").click(function(){$(this).addClass("color_chosen"),$(this).siblings().removeClass("color_chosen"),color="black",$(".small_pic_one").css({background:'url("../../imges/15525734991932877_100X100.jpg")',backgroundSize:"100%"}),$(".middle_pic img").attr("src","../../../imges/15525734991932877_570X570.jpg"),$(".small_pic_sec").css({background:'url("../../imges/15525735097344210_100X100.jpg")',backgroundSize:"100%"})}),$(".addcart").click(function(){if(localStorage.getItem("car")){var i=JSON.parse(localStorage.getItem("car")),e=!1;i.forEach(function(i){"AKG N200BT 入耳式无线蓝牙运动耳机"==i.goodname&&i.color==color&&(i.number++,e=!0)}),0==e&&i.push({goodname:"AKG N200BT 入耳式无线蓝牙运动耳机",color:color,number:1,imgsrc:"../../imges/15525720912328593_100X100.jpg",pirce:"999.00"}),localStorage.setItem("car",JSON.stringify(i))}else{var t="["+JSON.stringify({goodname:"AKG N200BT 入耳式无线蓝牙运动耳机",color:color,number:1,imgsrc:"../../imges/15525720912328593_100X100.jpg",pirce:"999.00"})+"]";localStorage.setItem("car",t)}}),$(window).scroll(debounce(function(){700<$(window).scrollTop()?$(".btn_back").show(200):$(".btn_back").hide(200)},50)),$(".btn_back").on("click",function(){$(window).scrollTop(0)})})});